//# sourceMappingURL=bespoke-overview.js.map
(function(K){if("object"===typeof exports&&"undefined"!==typeof module)module.exports=K();else if("function"===typeof define&&define.amd)define([],K);else{var e;e="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this;e=e.bespoke||(e.bespoke={});e=e.plugins||(e.plugins={});e.overview=K()}})(function(){return function e(h,f,d){function b(l,g){if(!f[l]){if(!h[l]){var k="function"==typeof require&&require;if(!g&&k)return k(l,!0);if(v)return v(l,!0);
k=Error("Cannot find module '"+l+"'");throw k.code="MODULE_NOT_FOUND",k;}k=f[l]={exports:{}};h[l][0].call(k.exports,function(d){var k=h[l][1][d];return b(k?k:d)},k,k.exports,e,h,f,d)}return f[l].exports}for(var v="function"==typeof require&&require,g=0;g<d.length;g++)b(d[g]);return b}({1:[function(e,h,f){h.exports=function(d){e("insert-css")(".bespoke-parent.bespoke-overview{pointer-events:auto}.bespoke-overview :not(img){pointer-events:none}.bespoke-overview .bespoke-slide{opacity:1;visibility:visible;cursor:pointer;pointer-events:auto}.bespoke-overview .bespoke-active{outline:6px solid #cfd8dc;outline-offset:-3px;-moz-outline-radius:3px}.bespoke-overview .bespoke-bullet{opacity:1;visibility:visible}.bespoke-overview-counter{counter-reset:overview}.bespoke-overview-counter .bespoke-slide::after{counter-increment:overview;content:counter(overview);position:absolute;right:.75em;bottom:.5em;font-size:1.25rem;line-height:1.25}.bespoke-title{visibility:hidden;position:absolute;top:0;left:0;width:100%;pointer-events:auto}.bespoke-title h1{margin:0;font-size:1.6em;line-height:1.2;text-align:center}.bespoke-overview:not(.bespoke-overview-to) .bespoke-title{visibility:visible}.bespoke-overview-to .bespoke-active,.bespoke-overview-from .bespoke-active{z-index:1}",
{prepend:!0});return function(b){d="object"===typeof d?d:{};var e=/, */,g=/^none(?:, ?none)*$/,l=/^translate\((.+?)px, ?(.+?)px\) scale\((.+?)\)$/,h=/(^\?|&)overview(?=$|&)/,k=!("transition"in document.body.style)&&"webkitTransition"in document.body.style?"webkitTransitionEnd":"transitionend",f=["webkit","Moz"],q="number"===typeof d.columns?parseInt(d.columns):3,L="number"===typeof d.margin?parseFloat(d.margin):15,A=null,w,x=function(a,c){if(!(c in a.style))for(var Q=c.charAt(0).toUpperCase()+c.substr(1),
b=0,d=f.length;b<d;b++)if(f[b]+Q in a.style)return f[b]+Q;return c},M=function(a){if("zoom"in a.style)return parseFloat(a.style.zoom)||void 0},F=function(a){var c=[],b=getComputedStyle(a),d=b[x(a,"transitionProperty")];if(!d||g.test(d))return c;var d=d.split(e),k=b[x(a,"transitionDuration")].split(e),l=b[x(a,"transitionDelay")].split(e);d.forEach(function(a,b){"0s"===k[b]&&"0s"===l[b]||c.push(a)});return c},y=function(a,c,b,d){c&&(a.style[c]=b);a.offsetHeight;c&&(a.style[c]=d)},G=function(){b.on("activate",
G)();b.parent.scrollLeft=b.parent.scrollTop=0;(d.autostart||h.test(location.search))&&setTimeout(C,100)},R=function(){r(b.slides.indexOf(this))},H=function(a,c){var d=c.index+a;0<=d&&d<b.slides.length&&b.slide(d,{preview:!0});return!1},W=function(a){!1!==a.scrollIntoView&&I(a.slide,a.index,M(a.slide))},S=function(a){var c=location.search.replace(h,"").replace(/^[^?]/,"?$&");a?history.replaceState(null,null,location.pathname+(0<c.length?c+"&":"?")+"overview"+location.hash):history.replaceState(null,
null,location.pathname+c+location.hash)},I=function(a,c,d){b.parent.scrollTop=c<q?0:b.parent.scrollTop+a.getBoundingClientRect().top*(d||1)},J=function(a,c,b,d){b.removeEventListener(k,w,!1);d&&d!==b&&d.removeEventListener(k,w,!1);w=void 0;c.remove("bespoke-overview-"+a)},X=function(a){var c=a.firstElementChild;if(c.classList.contains("bespoke-title"))return c.style.width="",c;var b=document.createElement("header");b.className="bespoke-title";b.style[x(b,"transformOrigin")]="0 0";var d=document.createElement("h1");
d.appendChild(document.createTextNode(a.getAttribute("data-title")||document.title));b.appendChild(d);y(a.insertBefore(b,c));return b},C=function(){var a=b.slides,c=b.parent,e=c.classList,l=a.length-1,t=b.slide(),g=0<t?a[0]:a[l],h=x(g,"transform"),n=c.querySelector(".bespoke-scale-parent"),m=1,f,p,N=0,v=A,T="webkitAppearance"in c.style;if(n)m=parseFloat(n.style[h].slice(6,-1));else if(f=M(g))m=f;w&&J("from",e,a[0],a[l]);d.title&&(p=X(c));v||(b.slide(t,{preview:!0}),e.add("bespoke-overview"),addEventListener("resize",
C,!1),A=[b.on("activate",W),b.on("prev",H.bind(null,-1)),b.on("next",H.bind(null,1))],d.counter&&e.add("bespoke-overview-counter"),d.location&&S(!0),e.add("bespoke-overview-to"),N=0<l?F(g).length:0>F(g).join(" ").indexOf("transform")?0:1,c.style.overflowY="scroll",c.style.scrollBehavior="smooth",T&&a.forEach(function(a){y(a,"marginBottom","0%","")}));var U=c.clientWidth/m,r=(n||c).offsetWidth-c.clientWidth,G=n?r/2/m:0,n=g.offsetWidth,B=U/(q*n+(q+1)*L),O=m*B,u=n*B,E=g.offsetHeight*B,Y=(U-u)/2,Z=(c.clientHeight/
m-E)/2,V=L*B,P=0,D=0,z=0;p&&(!1!==d.scaleTitle?(p.style[f?"zoom":h]=f?O:"scale("+O+")",p.style.width=c.clientWidth/O+"px",P=p.offsetHeight*B):(0<r&&(p.style.width=c.clientWidth+"px"),P=p.offsetHeight/m));a.forEach(function(a){var b=z*u+(z+1)*V-G-Y,c=D*E+(D+1)*V+P-Z;a.style[h]="translate("+(0>b.toString().indexOf("e-")?b:0)+"px, "+(0>c.toString().indexOf("e-")?c:0)+"px) scale("+B+")";D*q+z===l&&(a.style.marginBottom=L+"px");a.addEventListener("click",R,!1);z===q-1?(D+=1,z=0):z+=1});v?I(a[t],t,f):0<
N?g.addEventListener(k,w=function(b){b.target===this&&0===--N&&(J("to",e,this),T&&c.scrollHeight>c.clientHeight&&y(c,"overflowY","auto","scroll"),I(a[t],t,f))},!1):(a.forEach(function(a){y(a)}),e.remove("bespoke-overview-to"),I(a[t],t,f))},r=function(a){b.slide("number"===typeof a?a:b.slide(),{scrollIntoView:!1});a=b.slides;var c=b.parent,e=c.classList,g=a.length-1,f=0<b.slide()?a[0]:a[g],h=x(f,"transform"),v=x(f,"transition"),n=c.querySelector(".bespoke-scale-parent"),m,q="webkitAppearance"in c.style;
n?m=parseFloat(n.style[h].slice(6,-1)):(m=M(f))||(m=1);w&&J("to",e,a[0],a[g]);var p=c.scrollTop/m,r=(c.offsetWidth-(n||c).clientWidth)/2/m;c.style.scrollBehavior=c.style.overflowY="";a.forEach(function(a){q&&y(a,"marginBottom","0%","");a.removeEventListener("click",R,!1)});(p||r)&&a.forEach(function(a){var b=a.style[h].match(l);a.style[h]="translate("+(parseFloat(b[1])-r)+"px, "+(parseFloat(b[2])-p)+"px) scale("+b[3]+")";y(a,v,"none","")});c.scrollTop=0;e.remove("bespoke-overview");removeEventListener("resize",
C,!1);(A||[]).forEach(function(a){a()});A=null;d.counter&&e.remove("bespoke-overview-counter");d.location&&S(!1);e.add("bespoke-overview-from");var u=0<g?F(f).length:0>F(f).join(" ").indexOf("transform")?0:1;a.forEach(function(a){a.style[h]=""});0<u?f.addEventListener(k,w=function(a){a.target===this&&0===--u&&J("from",e,this)},!1):(a.forEach(function(a){y(a)}),e.remove("bespoke-overview-from"))},u=function(){A?r():C()},E=function(a){if(79===a.which)a.altKey||a.ctrlKey||a.metaKey||a.shiftKey||u();
else if(A)switch(a.which){case 13:a.altKey||a.ctrlKey||a.metaKey||a.shiftKey||r();break;case 38:return H(-q,{index:b.slide()});case 40:return H(q,{index:b.slide()})}};b.on("activate",G);b.on("destroy",function(){removeEventListener("resize",C,!1);document.removeEventListener("keydown",E,!1)});b.on("overview",u);document.addEventListener("keydown",E,!1)}}},{"insert-css":2}],2:[function(e,h,f){var d={};h.exports=function(b,e){if(!d[b]){d[b]=!0;var g=document.createElement("style");g.setAttribute("type",
"text/css");"textContent"in g?g.textContent=b:g.styleSheet.cssText=b;var f=document.getElementsByTagName("head")[0];e&&e.prepend?f.insertBefore(g,f.childNodes[0]):f.appendChild(g)}}},{}]},{},[1])(1)});